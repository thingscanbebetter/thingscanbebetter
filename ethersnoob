// URL for Infura endpoint
var endpointURL = 'https://mainnet.infura.io/v3/7dc960db53eb46a3abc7a40ee3de7d3d';

// Address for Compound USDC contract
const compAddress = "0x39AA39c021dfbaE8faC545936693aC917d5E7563";

// Address for USDC pool on Pool Together
const poolAddress = "0xde9ec95d7708B8319CCca4b8BC92c0a3B70bf416"

// ABI for Compound contract
const lpABI = [ "function balanceOf(address) view returns (uint)" ];

// WORKING Get and log in console current block number
	var customHttpProvider = new ethers.providers.JsonRpcProvider(endpointURL);
    
    customHttpProvider.getBlockNumber().then((result) => {
    console.log("Current block number: " + result); });

// NOT WORKING Function to load contract and get balanceOf USDC Comp for Pool Together
async function run() {
 
    const compContract = new ethers.Contract(compAddress, lpABI, endpointURL);
 
    let balanceForPool = await compContract.balanceOf(poolAddress);
    console.log(balanceForPool);

    }

run();
